<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cuestionario Web ‚Äì CorelTech</title>
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f8f9fa;
      color: #212529;
    }
    .card {
      border: none;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .btn-corel {
      background: linear-gradient(135deg, #0d6efd, #6f42c1);
      color: white;
      font-weight: 600;
    }
    .form-label {
      font-weight: 500;
      color: #495057;
    }
    footer {
      margin-top: 60px;
      text-align: center;
      color: #6c757d;
      font-size: 0.9rem;
    }
    .tip {
      font-size: 0.875rem;
      color: #6c757d;
      font-style: italic;
    }
  </style>
</head>
<body>
  <div class="container py-4">
    <div class="text-center mb-4">
      <h1 class="fw-bold">üìù Cuestionario: Sitio Web</h1>
      <p class="text-muted">Ay√∫danos a conocerte mejor para crear un sitio a tu medida.</p>
    </div>

    <form id="form-web">
      <!-- 1. Informaci√≥n del Proyecto -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h5>üéØ Informaci√≥n del Proyecto</h5>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label class="form-label">Nombre de tu empresa o marca</label>
            <input type="text" class="form-control" id="web-empresa" placeholder="ej: ModaVenezuela, Cl√≠nica Salud Total" required>
            <small class="tip">Nombre comercial o raz√≥n social</small>
          </div>
          <div class="mb-3">
            <label class="form-label">Nombre del contacto principal</label>
            <input type="text" class="form-control" id="web-contacto" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Correo y tel√©fono de contacto</label>
            <input type="text" class="form-control" id="web-correo-telefono" placeholder="ej: contacto@empresa.com | +58 412 123 4567" required>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øEste es un sitio nuevo o una actualizaci√≥n?</label>
            <div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="web-tipo" id="web-nuevo" value="nuevo" required>
                <label class="form-check-label">Nuevo sitio web</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="web-tipo" id="web-redise√±o" value="redise√±o">
                <label class="form-check-label">Redise√±o</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="web-tipo" id="web-migracion" value="migracion">
                <label class="form-check-label">Migraci√≥n</label>
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">Si es una actualizaci√≥n, ¬øpuedes compartir el enlace del sitio actual?</label>
            <input type="url" class="form-control" id="web-enlace-actual" placeholder="https://tusitio.com">
          </div>
        </div>
      </div>

      <!-- 2. Objetivo del Sitio Web -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h5>üß≠ Objetivo del Sitio Web</h5>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label class="form-label">¬øCu√°l es el prop√≥sito principal de tu sitio web?</label>
            <select class="form-select" id="web-prop√≥sito" required>
              <option value="">Selecciona uno principal</option>
              <option value="vender">Vender productos o servicios</option>
              <option value="leads">Generar contactos o leads</option>
              <option value="portafolio">Mostrar portafolio o proyectos</option>
              <option value="informar">Informar o educar (blog, recursos)</option>
              <option value="reservar">Reservar citas o servicios</option>
              <option value="otro">Otro</option>
            </select>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øQu√© acci√≥n debe realizar un visitante cuando entre al sitio?</label>
            <textarea class="form-control" id="web-accion" rows="2" placeholder="ej: comprar, llenar un formulario, agendar una llamada, descargar un PDF" required></textarea>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øTienes un objetivo claro que quieras alcanzar?</label>
            <textarea class="form-control" id="web-objetivo" rows="2" placeholder="ej: vender 20 productos al mes, aparecer en Google para 'plomero en Caracas'"></textarea>
          </div>
        </div>
      </div>

      <!-- 3. P√∫blico Objetivo -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h5>üéØ Tu P√∫blico Objetivo</h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">Edad</label>
              <input type="text" class="form-control" id="web-edad">
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">G√©nero</label>
              <input type="text" class="form-control" id="web-genero">
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">Ubicaci√≥n</label>
              <input type="text" class="form-control" id="web-ubicacion">
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">Profesi√≥n o industria</label>
              <input type="text" class="form-control" id="web-profesion">
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øQu√© necesita o problema tiene que tu negocio resuelve?</label>
            <textarea class="form-control" id="web-problema" rows="2"></textarea>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øC√≥mo encuentran informaci√≥n sobre negocios como el tuyo?</label>
            <textarea class="form-control" id="web-encontrar" rows="2" placeholder="ej: Google, Instagram, WhatsApp, recomendaciones"></textarea>
          </div>
        </div>
      </div>

      <!-- 4. Dise√±o y Estilo -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h5>üñº Dise√±o y Estilo</h5>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label class="form-label">¬øTienes alguna p√°gina web que te guste como referencia visual?</label>
            <textarea class="form-control" id="web-referencias" rows="2" placeholder="Puedes poner 1-3 URLs, ej: https://apple.com, https://airbnb.com"></textarea>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øQu√© estilo prefieres para tu sitio?</label>
            <select class="form-select" id="web-estilo">
              <option value="">Selecciona</option>
              <option value="moderno">Moderno y limpio</option>
              <option value="corporativo">Corporativo y profesional</option>
              <option value="creativo">Creativo y art√≠stico</option>
              <option value="minimal">M√≠nimo y elegante</option>
              <option value="otro">Otro</option>
            </select>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øTienes logo, colores o tipograf√≠as definidas?</label>
            <textarea class="form-control" id="web-marca" rows="2" placeholder="Adjunta o describe"></textarea>
          </div>
        </div>
      </div>

      <!-- 5. Contenido del Sitio -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h5>üß© Contenido del Sitio</h5>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label class="form-label">¬øQu√© p√°ginas debe incluir tu sitio web?</label>
            <textarea class="form-control" id="web-paginas" rows="2" placeholder="ej: Inicio, Nosotros, Servicios, Productos, Blog, Contacto, Portafolio" required></textarea>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øYa tienes listo el contenido (textos, fotos, videos)?</label>
            <select class="form-select" id="web-contenido-listo" required>
              <option value="">Selecciona</option>
              <option value="si">S√≠, todo listo</option>
              <option value="parcial">Parcialmente</option>
              <option value="no">No, necesito ayuda</option>
            </select>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øQu√© contenido es m√°s importante destacar?</label>
            <textarea class="form-control" id="web-contenido-destacar" rows="2" placeholder="ej: testimonios, cat√°logo de productos, servicios m√°s vendidos"></textarea>
          </div>
        </div>
      </div>

      <!-- 6. Funcionalidades -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h5>‚öô Funcionalidades</h5>
        </div>
        <div class="card-body">
          <p>Marca todas las que necesites:</p>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-tienda">
            <label class="form-check-label">Tienda online (vender productos)</label>
          </div>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-carrito">
            <label class="form-check-label">Carrito de compras y pasarela de pago</label>
          </div>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-blog">
            <label class="form-check-label">Blog o secci√≥n de noticias</label>
          </div>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-reservas">
            <label class="form-check-label">Sistema de reservas o citas (ej: m√©dico, peluquer√≠a)</label>
          </div>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-login">
            <label class="form-check-label">√Årea de clientes o login</label>
          </div>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-multilenguaje">
            <label class="form-check-label">Multilenguaje (espa√±ol + ingl√©s)</label>
          </div>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-formulario">
            <label class="form-check-label">Formulario de contacto con env√≠o de correos</label>
          </div>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-chat">
            <label class="form-check-label">Chat en vivo (WhatsApp, Messenger)</label>
          </div>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-galeria">
            <label class="form-check-label">Galer√≠a de fotos o videos</label>
          </div>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-redes">
            <label class="form-check-label">Integraci√≥n con redes sociales</label>
          </div>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-newsletter">
            <label class="form-check-label">Newsletter / Suscripci√≥n por email</label>
          </div>
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="web-seo">
            <label class="form-check-label">SEO avanzado (para aparecer en Google)</label>
          </div>
          <div class="mb-3">
            <label class="form-label">Otro:</label>
            <input type="text" class="form-control" id="web-otro-funcionalidad">
          </div>
        </div>
      </div>

      <!-- 7. Dominio y Hosting -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h5>üåê Dominio y Hosting</h5>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label class="form-label">¬øTienes un dominio registrado? (ej: tudominio.com)</label>
            <div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="web-dominio" id="web-dominio-si" value="si" required>
                <label class="form-check-label">S√≠ ‚Üí ¬øCu√°l?</label>
                <input type="text" class="form-control d-inline-block w-auto ms-2" id="web-dominio-cual" style="width: 200px;">
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="web-dominio" id="web-dominio-no" value="no">
                <label class="form-check-label">No ‚Üí ¬øQuieres que te ayudemos a elegirlo?</label>
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øTienes hosting contratado?</label>
            <div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="web-hosting" id="web-hosting-si" value="si" required>
                <label class="form-check-label">S√≠</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="web-hosting" id="web-hosting-no" value="no">
                <label class="form-check-label">No ‚Üí ¬øNecesitas que lo gestionemos?</label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 8. Plazos y Presupuesto -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h5>üìÖ Plazos y Presupuesto</h5>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label class="form-label">¬øTienes una fecha estimada de lanzamiento?</label>
            <textarea class="form-control" id="web-fecha" rows="2" placeholder="ej: antes de una campa√±a, para una feria, etc."></textarea>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øTienes un presupuesto aproximado en mente?</label>
            <select class="form-select" id="web-presupuesto">
              <option value="">Selecciona</option>
              <option value="menos500">Menos de $500 USD</option>
              <option value="500-1500">$500 ‚Äì $1,500 USD</option>
              <option value="mas1500">M√°s de $1,500 USD</option>
              <option value="no-se">A√∫n no lo s√©</option>
            </select>
          </div>
        </div>
      </div>

      <!-- 9. Gesti√≥n del Sitio -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h5>üßë‚Äçüíº Gesti√≥n del Sitio</h5>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label class="form-label">¬øQuieres poder actualizar el contenido t√∫ mismo?</label>
            <div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="web-gestion" id="web-gestion-si" value="si" required>
                <label class="form-check-label">S√≠ ‚Üí Quiero un panel f√°cil de usar</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="web-gestion" id="web-gestion-no" value="no">
                <label class="form-check-label">No ‚Üí Prefiero que lo gestionen ustedes</label>
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">¬øNecesitas capacitaci√≥n para administrar el sitio?</label>
            <div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="web-capacitacion" id="web-capacitacion-si" value="si" required>
                <label class="form-check-label">S√≠</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="web-capacitacion" id="web-capacitacion-no" value="no">
                <label class="form-check-label">No</label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 10. Comentarios Finales -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h5>‚úâ Comentarios Finales</h5>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label class="form-label">¬øHay algo m√°s que quieras compartir sobre tu proyecto, visi√≥n o expectativas?</label>
            <textarea class="form-control" id="web-comentarios" rows="3"></textarea>
          </div>
        </div>
      </div>

      <!-- Botones -->
      <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-4">
        <button type="button" class="btn btn-secondary" onclick="window.history.back()">Cancelar</button>
        <button type="submit" class="btn btn-corel">Enviar Cuestionario</button>
      </div>
    </form>
  </div>

  <footer>
    <p>¬© 2025 CorelTech ‚Äì Tu tranquilidad es nuestra prioridad.</p>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="/firebase-config.js"></script>

  <script>
    document.getElementById("form-web").addEventListener("submit", async (e) => {
      e.preventDefault();
      
      const user = firebase.auth().currentUser;
      if (!user) {
        alert("No autenticado");
        return;
      }

      const data = {
        tipo: "cuestionario-web",
        timestamp: new Date(),
        usuario: user.email,
        empresa: document.getElementById("web-empresa").value,
        contacto: document.getElementById("web-contacto").value,
        correoTelefono: document.getElementById("web-correo-telefono").value,
        tipoProyecto: document.querySelector('input[name="web-tipo"]:checked')?.value,
        enlaceActual: document.getElementById("web-enlace-actual").value,
        proposito: document.getElementById("web-prop√≥sito").value,
        accion: document.getElementById("web-accion").value,
        objetivo: document.getElementById("web-objetivo").value,
        publico: {
          edad: document.getElementById("web-edad").value,
          genero: document.getElementById("web-genero").value,
          ubicacion: document.getElementById("web-ubicacion").value,
          profesion: document.getElementById("web-profesion").value,
          problema: document.getElementById("web-problema").value,
          encontrar: document.getElementById("web-encontrar").value
        },
        dise√±o: {
          referencias: document.getElementById("web-referencias").value,
          estilo: document.getElementById("web-estilo").value,
          marca: document.getElementById("web-marca").value
        },
        contenido: {
          paginas: document.getElementById("web-paginas").value,
          listo: document.getElementById("web-contenido-listo").value,
          destacar: document.getElementById("web-contenido-destacar").value
        },
        funcionalidades: {
          tienda: document.getElementById("web-tienda").checked,
          carrito: document.getElementById("web-carrito").checked,
          blog: document.getElementById("web-blog").checked,
          reservas: document.getElementById("web-reservas").checked,
          login: document.getElementById("web-login").checked,
          multilenguaje: document.getElementById("web-multilenguaje").checked,
          formulario: document.getElementById("web-formulario").checked,
          chat: document.getElementById("web-chat").checked,
          galeria: document.getElementById("web-galeria").checked,
          redes: document.getElementById("web-redes").checked,
          newsletter: document.getElementById("web-newsletter").checked,
          seo: document.getElementById("web-seo").checked,
          otro: document.getElementById("web-otro-funcionalidad").value
        },
        dominio: {
          tiene: document.querySelector('input[name="web-dominio"]:checked')?.value,
          cual: document.getElementById("web-dominio-cual").value
        },
        hosting: document.querySelector('input[name="web-hosting"]:checked')?.value,
        plazos: {
          fecha: document.getElementById("web-fecha").value,
          presupuesto: document.getElementById("web-presupuesto").value
        },
        gestion: {
          puede: document.querySelector('input[name="web-gestion"]:checked')?.value,
          capacitacion: document.querySelector('input[name="web-capacitacion"]:checked')?.value
        },
        comentarios: document.getElementById("web-comentarios").value
      };

      try {
        const db = firebase.firestore();
        await db.collection("cuestionarios").add(data);
        alert("‚úÖ Cuestionario enviado con √©xito. Pronto nos pondremos en contacto.");
        window.location.href = "/app/dashboard.html";
      } catch (error) {
        console.error("Error al guardar:", error);
        alert("‚ùå Error: " + error.message);
      }
    });
  </script>
</body>
</html>