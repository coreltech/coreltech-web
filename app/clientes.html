<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Buscar Cliente ‚Äì CorelTech</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    body { font-family: 'Inter', sans-serif; }
  </style>
</head>
<body class="p-4">
  <div class="container">
    <h1>üîç Buscar Cliente</h1>
    <div class="input-group mb-3" style="max-width: 400px;">
      <input type="text" id="cliente-id" class="form-control" placeholder="ID del cliente">
      <button class="btn btn-primary" onclick="buscarCliente()">Buscar</button>
    </div>
    <div id="resultado"></div>
  </div>

  <script src="/firebase-config.js"></script>
  <script>
    async function buscarCliente() {
      const id = document.getElementById("cliente-id").value.trim().toUpperCase();
      const resultado = document.getElementById("resultado");
      resultado.innerHTML = '<p>Buscando...</p>';

      const db = firebase.firestore();
      const doc = await db.collection("clientes").doc(id).get();

      if (doc.exists) {
        const data = doc.data();
        resultado.innerHTML = `
          <div class="card mt-3">
            <div class="card-body">
              <h5>${data.nombre}</h5>
              <p><strong>ID:</strong> ${id}<br>
              <strong>Tel√©fono:</strong> ${data.telefono}<br>
              <strong>Direcci√≥n:</strong> ${data.direccion}</p>
              <a href="/app/expediente.html?cliente=${id}" class="btn btn-success">Ver Expediente</a>
            </div>
          </div>
        `;
      } else {
        resultado.innerHTML = `<p class="text-danger">Cliente no encontrado.</p>`;
      }
    }
  </script>
</body>
</html>